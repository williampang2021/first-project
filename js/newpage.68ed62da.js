(self.webpackChunkreact_app_ts=self.webpackChunkreact_app_ts||[]).push([[551],{798:t=>{"use strict";var e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};t.exports=function(t,n){void 0===t&&(t={}),void 0===n&&(n=null);var r=t||{},o=[];function u(){o.forEach(function(t){return t(r)})}return{middleware:n,setState:function(t){r=e({},r,"function"==typeof t?t(r):t),u()},subscribe:function(t){return o.push(t),function(){o.splice(o.indexOf(t),1)}},getState:function(){return r},reset:function(){r=t,u()}}}},120:(t,e,n)=>{"use strict";var r=n(804),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function u(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function c(t,e){for(var n in t)if(t[n]!==e[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}function s(t,e,n){return"object"==typeof t?null:new Error("Invalid prop "+e+" supplied to "+n)}function a(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof e.middleware?e.middleware(e,t,n):function(t,e){if(null!=e){if(e.then)return e.then(t.setState);t.setState(e)}}(e,t.apply(void 0,[e.getState()].concat(n)))}}var p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.update=function(){var t=r.getProps(r.props,r.context);c(t,r.state)||r.setState(t)},r.state=r.getProps(e,n),r.actions=r.getActions(),r}return u(e,t),e.prototype.UNSAFE_componentWillMount=function(){this.unsubscribe=this.context.store.subscribe(this.update)},e.prototype.componentWillUnmount=function(){this.unsubscribe(this.update)},e.prototype.UNSAFE_componentWillReceiveProps=function(t,e){var n=this.getProps(t,e);c(n,this.state)||this.setState(n)},e.prototype.getProps=function(t,e){var n=t.mapToProps,r=e.store&&e.store.getState()||{};return n?n(r,t):r},e.prototype.getActions=function(){return function(t,e,n){t="function"==typeof t?t(e,n):t;var r={};for(var o in t){var u=t[o];r[o]=a(u,e)}return r}(this.props.actions,this.context.store,this.props)},e.prototype.render=function(){return this.props.children(i({store:this.context.store},this.state,this.actions))},e.contextTypes={store:s},e}(r.Component);var f="createContext"in r?r.createContext(void 0):{Provider:function(t){var e=t.children;return r.Children.only(e)}},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getChildContext=function(){return{store:this.props.store}},e.prototype.render=function(){var t=this.props,e=t.store,n=t.children;return r.createElement(f.Provider,{value:e},n)},e.childContextTypes={store:s},e}(r.Component);function h(){return r.useContext(f)}var v="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;e.$j=function(t,e){return void 0===e&&(e={}),function(n){return function(o){function c(){return null!==o&&o.apply(this,arguments)||this}return u(c,o),c.prototype.render=function(){var o=this.props;return r.createElement(p,i({},o,{mapToProps:t,actions:e}),function(t){return r.createElement(n,i({},t,o))})},c}(r.Component)}},e.zt=l},263:(t,e,n)=>{"use strict";var r=n(804),o=n.n(r);const u=ReactDOM;var i=n.n(u),c=n(120),s=n(798);const a={testData:1};const p=n.n(s)()(a);var f=n(137),l=n(757),h=n.n(l);const v=function(t){return{getInitData:function(){return(0,f.Z)(h().mark(function t(){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise(function(t){setTimeout(function(){t(6)},1e3)});case 3:return e=t.sent,t.abrupt("return",{testData:e});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}))()},increment:function(t){return{testData:t.testData+1}},decrement:function(t){return{testData:t.testData-1}}}};const d=(0,c.$j)(function(t){return{testData:t.testData}},v)(function(t){var e=t.increment,n=t.decrement;return o().createElement(o().Fragment,null,o().createElement("div",null,o().createElement("button",{onClick:e,className:"button"},"加1"),o().createElement("button",{style:{marginLeft:".2rem"},onClick:n,className:"button"},"减1")))});const m=(0,c.$j)(function(t){return{testData:t.testData}},v)(function(t){var e=t.testData,n=t.getInitData;return(0,r.useEffect)(function(){n()},[]),o().createElement(o().Fragment,null,o().createElement("div",null,"Page3",o().createElement("div",{style:{color:"red"}},e),o().createElement(d,null)))});i().render(o().createElement(c.zt,{store:p},o().createElement(m,null)),document.getElementById("js_app"))},804:t=>{"use strict";t.exports=React}},0,[[263,543,401]]]);